# =============================================================================
# William Temple House - Raffle App Environment Variables
# =============================================================================
# Copy this file to .env.local for local development
# .env.local is gitignored and should NEVER be committed
# =============================================================================

# -----------------------------------------------------------------------------
# Local-first defaults (Docker)
# -----------------------------------------------------------------------------
# docker-compose starts:
#   - app (Next.js)
#   - db (Postgres)
#   - maildev (SMTP + web UI)
DATABASE_URL=postgresql://postgres:postgres@db:5432/neondb?sslmode=disable

# -----------------------------------------------------------------------------
# Authentication
# -----------------------------------------------------------------------------
# Required: Generate with: openssl rand -base64 32
AUTH_SECRET=generate_with_openssl_rand_base64_32
AUTH_TRUST_HOST=true

# Bypass auth entirely (local dev only - DO NOT USE IN PRODUCTION)
AUTH_BYPASS=false

# Feature flag: optimistic admin action UX (legacy devices / high-latency networks)
NEXT_PUBLIC_ADMIN_OPTIMISTIC_UI=false

# Only allow sign-ins from this domain (leave empty to allow all)
ADMIN_EMAIL_DOMAIN=williamtemple.org

# -----------------------------------------------------------------------------
# Email Provider
# -----------------------------------------------------------------------------
# Local MailDev (runs via docker-compose)
EMAIL_FROM=login@localhost
EMAIL_SERVER_HOST=maildev
EMAIL_SERVER_PORT=1025
# EMAIL_SERVER_USER=
# EMAIL_SERVER_PASSWORD=

# Production Resend (set in Vercel)
# RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# EMAIL_FROM=login@williamtemple.app

# -----------------------------------------------------------------------------
# Optional URLs (production)
# -----------------------------------------------------------------------------
# AUTH_URL=https://williamtemple.app

# =============================================================================
# Notes
# =============================================================================
# - To run fully offline, leave RESEND_API_KEY unset and keep MAILDEV defaults.
# - Production (Vercel): set AUTH_BYPASS=false, DATABASE_URL (Neon), AUTH_SECRET, AUTH_TRUST_HOST=true,
#   ADMIN_EMAIL_DOMAIN=williamtemple.org, EMAIL_FROM=login@williamtemple.app, RESEND_API_KEY, NODE_ENV=production.
# - MailDev UI: http://localhost:1080 ; SMTP: maildev:1025 from the app container.
