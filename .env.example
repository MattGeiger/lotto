# =============================================================================
# William Temple House - Raffle App Environment Variables
# =============================================================================
# Copy this file to .env.local and fill in real values
# .env.local is gitignored and should NEVER be committed
# =============================================================================

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# For local development with Docker, set USE_DATABASE=true and provide DATABASE_URL
# For file-based development (no auth), set USE_DATABASE=false
USE_DATABASE=true
DATABASE_URL=postgresql://username:password@host/database?sslmode=require

# How to get DATABASE_URL:
# 1. Create Neon database: https://neon.tech
# 2. Copy connection string from dashboard (or Vercel Postgres integration)

# -----------------------------------------------------------------------------
# Authentication
# -----------------------------------------------------------------------------
# Required: Generate with: openssl rand -base64 32
AUTH_SECRET=generate_with_openssl_rand_base64_32
NEXTAUTH_SECRET=same_as_AUTH_SECRET

# URLs for authentication callbacks
# Local development:
AUTH_URL=http://localhost:3000
NEXTAUTH_URL=http://localhost:3000
# Production (replace with your domain):
# AUTH_URL=https://williamtemple.app
# NEXTAUTH_URL=https://williamtemple.app

# Trust host for Docker/proxy environments
AUTH_TRUST_HOST=true

# Bypass auth entirely (local dev only - DO NOT USE IN PRODUCTION)
AUTH_BYPASS=false

# -----------------------------------------------------------------------------
# Email Provider (Resend for Magic Links)
# -----------------------------------------------------------------------------
# Get API key from: https://resend.com/api-keys
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Must be verified domain in Resend
EMAIL_FROM=login@williamtemple.app

# Only allow sign-ins from this domain (leave empty to allow all)
ADMIN_EMAIL_DOMAIN=williamtemple.org

# -----------------------------------------------------------------------------
# Optional: Email Server (for local testing without Resend)
# -----------------------------------------------------------------------------
# EMAIL_SERVER_HOST=localhost
# EMAIL_SERVER_PORT=1025
# EMAIL_SERVER_USER=user
# EMAIL_SERVER_PASSWORD=pass

# =============================================================================
# Environment-Specific Notes
# =============================================================================
#
# LOCAL DEVELOPMENT (Docker):
#   - USE_DATABASE=true (with Neon connection) OR false (file-based, no auth)
#   - AUTH_BYPASS=false (to test auth) OR true (to skip auth)
#   - NEXTAUTH_URL=http://localhost:3000
#
# VERCEL DEPLOYMENT:
#   - Set all variables in Vercel project settings
#   - DATABASE_URL will be auto-set by Neon integration
#   - Use production AUTH_URL (e.g., https://williamtemple.app)
#   - AUTH_BYPASS=false (always)
#   - AUTH_TRUST_HOST=true (Vercel uses proxies)
#
# =============================================================================
